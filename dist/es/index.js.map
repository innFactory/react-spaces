{"version":3,"file":"index.js","sources":["../../node_modules/style-inject/dist/style-inject.es.js","../../src/core-types.ts","../../src/core-utils.ts","../../src/core-resizing.ts","../../src/core-dragging.ts","../../src/core.ts","../../src/core-react.ts","../../src/components/Centered.tsx","../../src/components/CenteredVertically.tsx","../../src/components/Space.tsx","../../src/components/Anchored.tsx","../../src/components/Custom.tsx","../../src/components/Fill.tsx","../../src/components/Fixed.tsx","../../src/components/Layer.tsx","../../src/components/Positioned.tsx","../../src/components/SpaceInfo.tsx","../../src/components/ViewPort.tsx","../../src/components/SSR.tsx","../../src/components/Options.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","export type ResizeMouseEvent = React.MouseEvent<HTMLElement, MouseEvent>;\r\nexport type ResizeTouchEvent = React.TouchEvent<HTMLElement>;\r\nexport type OnResizeStart = ((resizeType?: ResizeType) => void | boolean) | undefined;\r\nexport type OnResizeEnd = ((newSize: SizeUnit, domRect: DOMRect, resizeType?: ResizeType) => void) | undefined;\r\nexport type OnDragEnd = (position: IPosition, moved: boolean) => void;\r\n\r\nexport enum Type {\r\n\tViewPort = \"viewport\",\r\n\tFixed = \"fixed\",\r\n\tFill = \"fill\",\r\n\tPositioned = \"positioned\",\r\n\tAnchored = \"anchored\",\r\n\tCustom = \"custom\",\r\n}\r\n\r\nexport enum AnchorType {\r\n\tLeft = \"anchor-left\",\r\n\tRight = \"anchor-right\",\r\n\tTop = \"anchor-top\",\r\n\tBottom = \"anchor-bottom\",\r\n}\r\n\r\nexport enum Orientation {\r\n\tHorizontal,\r\n\tVertical,\r\n}\r\n\r\nexport type SizeUnit = number | string | undefined;\r\n\r\nexport enum ResizeType {\r\n\tAll = \"resize-all\",\r\n\tLeft = \"resize-left\",\r\n\tRight = \"resize-right\",\r\n\tTop = \"resize-top\",\r\n\tBottom = \"resize-bottom\",\r\n\tTopLeft = \"resize-topleft\",\r\n\tTopRight = \"resize-topright\",\r\n\tBottomLeft = \"resize-bottomleft\",\r\n\tBottomRight = \"resize-bottomright\",\r\n}\r\n\r\nexport enum ResizeHandlePlacement {\r\n\tOverlayInside = \"overlay-inside\",\r\n\tInside = \"inside\",\r\n\tOverlayBoundary = \"overlay-boundary\",\r\n}\r\n\r\nexport enum CenterType {\r\n\tNone = \"none\",\r\n\tVertical = \"vertical\",\r\n\tHorizontalVertical = \"horizontalVertical\",\r\n}\r\n\r\nexport enum MoveEvent {\r\n\tMouse = \"mousemove\",\r\n\tTouch = \"touchmove\",\r\n}\r\n\r\nexport enum EndEvent {\r\n\tMouse = \"mouseup\",\r\n\tTouch = \"touchend\",\r\n}\r\n\r\nexport interface ICommonProps {\r\n\tid?: string;\r\n\tclassName?: string;\r\n\tcenterContent?: CenterType;\r\n\tzIndex?: number;\r\n\tscrollable?: boolean;\r\n\ttrackSize?: boolean;\r\n\tallowOverflow?: boolean;\r\n}\r\n\r\nexport interface ISpaceProps extends ICommonProps {\r\n\ttype: Type;\r\n\tanchor?: AnchorType | undefined;\r\n\torder?: number | undefined;\r\n\tposition?: IPositionalProps | undefined;\r\n\thandleSize?: number | undefined;\r\n\thandlePlacement?: ResizeHandlePlacement;\r\n\ttouchHandleSize?: number | undefined;\r\n\tminimumSize?: number | undefined;\r\n\tmaximumSize?: number | undefined;\r\n\tonResizeStart?: OnResizeStart;\r\n\tonResizeEnd?: OnResizeEnd;\r\n}\r\n\r\nexport interface ISpaceStore {\r\n\tgetSpaces: () => ISpaceDefinition[];\r\n\tgetSpace: (id: string) => ISpaceDefinition | undefined;\r\n\taddSpace: (space: ISpaceDefinition) => void;\r\n\tupdateSpace: (space: ISpaceDefinition, props: ISpaceProps) => void;\r\n\tupdateStyles: (space: ISpaceDefinition) => void;\r\n\tremoveSpace: (space: ISpaceDefinition) => void;\r\n\tcreateSpace: (parent: string | undefined, props: ISpaceProps, update: () => void) => ISpaceDefinition;\r\n\tstartMouseResize: (resizeType: ResizeType, space: ISpaceDefinition, event: React.MouseEvent<HTMLElement>, onResizeEnd?: OnResizeEnd) => void;\r\n\tstartTouchResize: (resizeType: ResizeType, space: ISpaceDefinition, event: React.TouchEvent<HTMLElement>, onResizeEnd?: OnResizeEnd) => void;\r\n\tstartMouseDrag: (space: ISpaceDefinition, event: ResizeMouseEvent, onDragEnd?: OnDragEnd) => void;\r\n\tstartTouchDrag: (space: ISpaceDefinition, event: ResizeTouchEvent, onDragEnd?: OnDragEnd) => void;\r\n}\r\n\r\nexport interface IPosition {\r\n\tleft?: SizeUnit | undefined;\r\n\ttop?: SizeUnit | undefined;\r\n\tright?: SizeUnit | undefined;\r\n\tbottom?: SizeUnit | undefined;\r\n\twidth?: SizeUnit | undefined;\r\n\theight?: SizeUnit | undefined;\r\n}\r\n\r\nexport interface IPositionalProps extends IPosition {\r\n\tleftResizable?: boolean;\r\n\ttopResizable?: boolean;\r\n\trightResizable?: boolean;\r\n\tbottomResizable?: boolean;\r\n\ttopLeftResizable?: boolean;\r\n\ttopRightResizable?: boolean;\r\n\tbottomLeftResizable?: boolean;\r\n\tbottomRightResizable?: boolean;\r\n}\r\n\r\nexport interface ISize {\r\n\tsize: SizeUnit;\r\n\tadjusted: SizeUnit[];\r\n\tresized: number;\r\n}\r\n\r\nexport interface ISpaceDefinition {\r\n\tupdate: () => void;\r\n\tupdateParent: () => void;\r\n\tadjustLeft: (adjusted: SizeUnit[]) => boolean;\r\n\tadjustRight: (adjusted: SizeUnit[]) => boolean;\r\n\tadjustTop: (adjusted: SizeUnit[]) => boolean;\r\n\tadjustBottom: (adjusted: SizeUnit[]) => boolean;\r\n\tadjustEdge: (adjusted: SizeUnit[]) => boolean;\r\n\tanchoredChildren: (children: ISpaceDefinition[], anchor: AnchorType, zIndex: number) => ISpaceDefinition[];\r\n\tonResizeStart?: OnResizeStart;\r\n\tonResizeEnd?: OnResizeEnd;\r\n\telement: HTMLElement;\r\n\tid: string;\r\n\ttype: Type;\r\n\tanchor?: AnchorType;\r\n\torientation: Orientation;\r\n\tscrollable: boolean;\r\n\torder?: number;\r\n\tposition: \"fixed\" | \"absolute\" | \"relative\";\r\n\tchildren: ISpaceDefinition[];\r\n\tparentId: string | undefined;\r\n\tstore: ISpaceStore;\r\n\tleft: ISize;\r\n\ttop: ISize;\r\n\tright: ISize;\r\n\tbottom: ISize;\r\n\twidth: ISize;\r\n\theight: ISize;\r\n\tzIndex: number;\r\n\tdimension: DOMRect;\r\n\tcenterContent: \"none\" | \"vertical\" | \"horizontalVertical\";\r\n\tresizing: boolean;\r\n\tminimumSize?: number;\r\n\tmaximumSize?: number;\r\n\thandleSize: number;\r\n\ttouchHandleSize: number;\r\n\thandlePlacement: ResizeHandlePlacement;\r\n\tcanResizeTop: boolean;\r\n\tcanResizeLeft: boolean;\r\n\tcanResizeRight: boolean;\r\n\tcanResizeBottom: boolean;\r\n\tcanResizeTopLeft: boolean;\r\n\tcanResizeTopRight: boolean;\r\n\tcanResizeBottomLeft: boolean;\r\n\tcanResizeBottomRight: boolean;\r\n\tallowOverflow: boolean;\r\n\tssrStyle: string;\r\n}\r\n\r\nexport interface ISpaceContext {\r\n\tsize: DOMRect;\r\n\tlayer: number;\r\n\tstartMouseDrag: (e: ResizeMouseEvent, onDragEnd?: OnDragEnd) => void;\r\n\tstartTouchDrag: (e: ResizeTouchEvent, onDragEnd?: OnDragEnd) => void;\r\n\tforceUpdate: () => void;\r\n\tssrStyle?: string;\r\n}\r\n","import { ISpaceDefinition, SizeUnit, ISize, ResizeHandlePlacement, Type, Orientation } from \"./core-types\";\r\n\r\nexport function omit<K extends string, T extends Record<K, unknown>>(object: T, ...keys: K[]): Omit<T, K> {\r\n\tconst keySet = Object.create(null) as Record<K, true>;\r\n\tkeys.forEach((key) => {\r\n\t\tkeySet[key] = true;\r\n\t});\r\n\r\n\tconst result = Object.create(null) as Omit<T, K>;\r\n\tObject.keys(object).forEach((key) => {\r\n\t\tif (!keySet[key]) {\r\n\t\t\tresult[key] = object[key];\r\n\t\t}\r\n\t});\r\n\r\n\treturn result;\r\n}\r\n\r\nexport function shortuuid() {\r\n\tlet firstPart = (Math.random() * 46656) | 0;\r\n\tlet secondPart = (Math.random() * 46656) | 0;\r\n\treturn (\"000\" + firstPart.toString(36)).slice(-3) + (\"000\" + secondPart.toString(36)).slice(-3);\r\n}\r\n\r\nexport function getSizeString(size: SizeUnit) {\r\n\treturn typeof size === \"string\" ? size : `${size}px`;\r\n}\r\n\r\nexport function css(size: ISize, dontAddCalc?: boolean) {\r\n\tif (size.size === 0 && size.adjusted.length === 0 && size.resized === 0) {\r\n\t\treturn `0px`;\r\n\t}\r\n\r\n\tconst parts: string[] = [];\r\n\tif (size.size !== undefined) {\r\n\t\tparts.push(getSizeString(size.size));\r\n\t}\r\n\r\n\tsize.adjusted.forEach((l) => parts.push(getSizeString(l)));\r\n\r\n\tif (size.resized !== 0) {\r\n\t\tparts.push(getSizeString(size.resized));\r\n\t}\r\n\r\n\tif (parts.length === 0) {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tif (parts.length === 1) {\r\n\t\treturn parts[0];\r\n\t}\r\n\r\n\tif (dontAddCalc) {\r\n\t\treturn parts.join(\" + \");\r\n\t}\r\n\r\n\treturn `calc(${parts.join(\" + \")})`;\r\n}\r\n\r\nexport function coalesce<T>(...args: T[]) {\r\n\treturn args.find((x) => x !== null && x !== undefined);\r\n}\r\n\r\nexport function adjustmentsEqual(item1: SizeUnit[], item2: SizeUnit[]) {\r\n\tif (item1.length !== item2.length) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfor (var i = 0, len = item1.length; i < len; i++) {\r\n\t\tif (item1[i] !== item2[i]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nexport function throttle<F extends (...args: any) => any>(callback: F, limit: number) {\r\n\tvar wait = false; // Initially, we're not waiting\r\n\treturn function(...args: any) {\r\n\t\t// We return a throttled function\r\n\t\tif (!wait) {\r\n\t\t\t// If we're not waiting\r\n\t\t\tcallback(...args); // Execute users function\r\n\t\t\twait = true; // Prevent future invocations\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\t// After a period of time\r\n\t\t\t\twait = false; // And allow future invocations\r\n\t\t\t}, limit);\r\n\t\t}\r\n\t};\r\n}\r\n\r\nexport function styleDefinition(space: ISpaceDefinition) {\r\n\tconst cssElements: string[] = [];\r\n\r\n\tconst style: React.CSSProperties = {\r\n\t\tposition: space.position,\r\n\t\tleft: css(space.left),\r\n\t\ttop: css(space.top),\r\n\t\tright: css(space.right),\r\n\t\tbottom: css(space.bottom),\r\n\t\twidth: css(space.width),\r\n\t\theight: css(space.height),\r\n\t\tzIndex: space.zIndex,\r\n\t};\r\n\r\n\tconst cssString: string[] = [];\r\n\r\n\tif (style.position) {\r\n\t\tcssString.push(`position: ${style.position};`);\r\n\t}\r\n\tif (style.left) {\r\n\t\tcssString.push(`left: ${style.left};`);\r\n\t}\r\n\tif (style.top) {\r\n\t\tcssString.push(`top: ${style.top};`);\r\n\t}\r\n\tif (style.right) {\r\n\t\tcssString.push(`right: ${style.right};`);\r\n\t}\r\n\tif (style.bottom) {\r\n\t\tcssString.push(`bottom: ${style.bottom};`);\r\n\t}\r\n\tif (style.width) {\r\n\t\tcssString.push(`width: ${style.width};`);\r\n\t}\r\n\tif (style.height) {\r\n\t\tcssString.push(`height: ${style.height};`);\r\n\t}\r\n\tif (style.zIndex) {\r\n\t\tcssString.push(`z-index: ${style.zIndex};`);\r\n\t}\r\n\tif (space.allowOverflow) {\r\n\t\tcssString.push(\"overflow: visible;\");\r\n\t}\r\n\r\n\tif (cssString.length > 0) {\r\n\t\tcssElements.push(`#${space.id} { ${cssString.join(\" \")} }`);\r\n\t}\r\n\r\n\tif (space.scrollable) {\r\n\t\tcssElements.push(`#${space.id} > .spaces-space-inner { overflow: auto; touch-action: auto; }`);\r\n\t}\r\n\r\n\tlet nhandleOffset = 0;\r\n\tconst handleSize = `${space.handleSize}px`;\r\n\tconst touchHandleSize = `-${space.touchHandleSize / 2 - space.handleSize / 2}px`;\r\n\tconst negativeTouchHandleSize = `${space.touchHandleSize / 2 - space.handleSize / 2}px`;\r\n\r\n\tswitch (space.handlePlacement) {\r\n\t\tcase ResizeHandlePlacement.Inside:\r\n\t\tcase ResizeHandlePlacement.OverlayInside:\r\n\t\t\tnhandleOffset = space.handleSize;\r\n\t\t\tif (space.type === Type.Positioned) {\r\n\t\t\t\tnhandleOffset = 0;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase ResizeHandlePlacement.OverlayBoundary:\r\n\t\t\tnhandleOffset = space.handleSize / 2;\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tconst handleOffset = `${nhandleOffset}px`;\r\n\r\n\tconst addHandleCss = (id: string, pos: { left?: string; top?: string; right?: string; bottom?: string; width?: string; height?: string }) => {\r\n\t\tconst styles: string[] = [];\r\n\r\n\t\tif (pos.left) styles.push(`left: ${pos.left}`);\r\n\t\tif (pos.top) styles.push(`top: ${pos.top}`);\r\n\t\tif (pos.right) styles.push(`right: ${pos.right}`);\r\n\t\tif (pos.bottom) styles.push(`bottom: ${pos.bottom}`);\r\n\t\tif (pos.width) styles.push(`width: ${pos.width}`);\r\n\t\tif (pos.height) styles.push(`height: ${pos.height}`);\r\n\r\n\t\tcssElements.push(`#${space.id}-${id} { ${styles.join(\"; \")}}`);\r\n\t};\r\n\r\n\tconst widthOrHeightSpecified = () =>\r\n\t\tspace.type === Type.Positioned\r\n\t\t\t? space.width.size && space.height.size\r\n\t\t\t: space.orientation == Orientation.Horizontal\r\n\t\t\t? space.width.size\r\n\t\t\t: space.height.size;\r\n\r\n\tif (space.canResizeLeft) {\r\n\t\tif (space.anchor) {\r\n\t\t\taddHandleCss(\"ml\", {\r\n\t\t\t\tright: `calc(${css(space.right, true)} + ${css(space.width)} - ${handleOffset})`,\r\n\t\t\t\ttop: `0`,\r\n\t\t\t\tbottom: `0`,\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"ml\", {\r\n\t\t\t\tleft: `calc(${css(space.left, true)} - ${handleOffset})`,\r\n\t\t\t\ttop: css(space.top),\r\n\t\t\t\tbottom: css(space.bottom),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: css(space.height),\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"ml:after\", {\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeTop) {\r\n\t\tif (space.anchor) {\r\n\t\t\taddHandleCss(\"mt\", {\r\n\t\t\t\tleft: `0`,\r\n\t\t\t\tright: `0`,\r\n\t\t\t\tbottom: `calc(${css(space.bottom)} + ${css(space.height)} - ${handleOffset})`,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t\taddHandleCss(\"mt:after\", {\r\n\t\t\t\ttop: touchHandleSize,\r\n\t\t\t\tbottom: touchHandleSize,\r\n\t\t\t\tleft: touchHandleSize,\r\n\t\t\t\twidth: css(space.width),\r\n\t\t\t\tright: touchHandleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mt\", {\r\n\t\t\t\ttop: `calc(${css(space.top, true)} - ${handleOffset})`,\r\n\t\t\t\tleft: css(space.left),\r\n\t\t\t\tright: css(space.right),\r\n\t\t\t\twidth: css(space.width),\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t\tif (widthOrHeightSpecified()) {\r\n\t\t\t\taddHandleCss(\"mt:after\", {\r\n\t\t\t\t\ttop: touchHandleSize,\r\n\t\t\t\t\tbottom: touchHandleSize,\r\n\t\t\t\t\tleft: touchHandleSize,\r\n\t\t\t\t\twidth: `calc(${css(space.width, true)} - ${handleOffset}) + ${negativeTouchHandleSize}`,\r\n\t\t\t\t\tright: touchHandleSize,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\taddHandleCss(\"mt:after\", {\r\n\t\t\t\t\ttop: touchHandleSize,\r\n\t\t\t\t\tbottom: touchHandleSize,\r\n\t\t\t\t\tleft: touchHandleSize,\r\n\t\t\t\t\twidth: css(space.width),\r\n\t\t\t\t\tright: touchHandleSize,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (space.canResizeRight) {\r\n\t\tif (widthOrHeightSpecified()) {\r\n\t\t\taddHandleCss(\"mr\", {\r\n\t\t\t\tleft: `calc(${css(space.left, true)} + ${css(space.width, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\ttop: css(space.top),\r\n\t\t\t\tbottom: css(space.bottom),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: css(space.height),\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mr\", {\r\n\t\t\t\tright: `calc(${css(space.right, true)} - ${handleOffset})`,\r\n\t\t\t\ttop: css(space.top),\r\n\t\t\t\tbottom: css(space.bottom),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: css(space.height),\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"mr:after\", {\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeBottom) {\r\n\t\tif (widthOrHeightSpecified()) {\r\n\t\t\taddHandleCss(\"mb\", {\r\n\t\t\t\ttop: `calc(${css(space.top, true)} + ${css(space.height, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\tleft: css(space.left),\r\n\t\t\t\tright: css(space.right),\r\n\t\t\t\twidth: css(space.width),\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mb\", {\r\n\t\t\t\tbottom: `calc(${css(space.bottom, true)} - ${handleOffset})`,\r\n\t\t\t\tleft: css(space.left),\r\n\t\t\t\tright: css(space.right),\r\n\t\t\t\twidth: css(space.width),\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"mb:after\", {\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeTopLeft) {\r\n\t\taddHandleCss(\"mtl\", {\r\n\t\t\tleft: `calc(${css(space.left, true)} - ${handleOffset})`,\r\n\t\t\ttop: css(space.top),\r\n\t\t\twidth: handleSize,\r\n\t\t\theight: handleSize,\r\n\t\t});\r\n\t\taddHandleCss(\"mtl:after\", {\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeTopRight) {\r\n\t\tif (widthOrHeightSpecified()) {\r\n\t\t\taddHandleCss(\"mtr\", {\r\n\t\t\t\tleft: `calc(${css(space.left, true)} + ${css(space.width, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\ttop: css(space.top),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mtr\", {\r\n\t\t\t\tright: `calc(${css(space.right, true)} - ${handleOffset})`,\r\n\t\t\t\ttop: css(space.top),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"mtr:after\", {\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeBottomLeft) {\r\n\t\tif (widthOrHeightSpecified()) {\r\n\t\t\taddHandleCss(\"mbl\", {\r\n\t\t\t\ttop: `calc(${css(space.top, true)} + ${css(space.height, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\tleft: css(space.left),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mbl\", {\r\n\t\t\t\tbottom: `calc(${css(space.bottom, true)} - ${handleOffset})`,\r\n\t\t\t\tleft: css(space.left),\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"mbl:after\", {\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\tif (space.canResizeBottomRight) {\r\n\t\tif (widthOrHeightSpecified()) {\r\n\t\t\taddHandleCss(\"mbr\", {\r\n\t\t\t\tleft: `calc(${css(space.left, true)} + ${css(space.width, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\ttop: `calc(${css(space.top, true)} + ${css(space.height, true)} - ${handleSize} + ${handleOffset})`,\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\taddHandleCss(\"mbr\", {\r\n\t\t\t\tright: `calc(${css(space.right, true)} - ${handleOffset})`,\r\n\t\t\t\tbottom: `calc(${css(space.bottom, true)} - ${handleOffset})`,\r\n\t\t\t\twidth: handleSize,\r\n\t\t\t\theight: handleSize,\r\n\t\t\t});\r\n\t\t}\r\n\t\taddHandleCss(\"mbr:after\", {\r\n\t\t\ttop: touchHandleSize,\r\n\t\t\tbottom: touchHandleSize,\r\n\t\t\tleft: touchHandleSize,\r\n\t\t\tright: touchHandleSize,\r\n\t\t});\r\n\t}\r\n\r\n\treturn cssElements.join(\" \");\r\n}\r\n\r\nexport function updateStyleDefinition(space: ISpaceDefinition) {\r\n\tconst definition = styleDefinition(space);\r\n\tif (!isServer()) {\r\n\t\tconst existing = document.getElementById(`style_${space.id}`);\r\n\t\tif (existing) {\r\n\t\t\tif (existing.innerHTML !== definition) {\r\n\t\t\t\texisting.innerHTML = definition;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst newStyle = document.createElement(\"style\");\r\n\t\t\tnewStyle.id = `style_${space.id}`;\r\n\t\t\tnewStyle.innerHTML = definition;\r\n\t\t\tdocument.head.appendChild(newStyle);\r\n\t\t}\r\n\t} else {\r\n\t\tspace.ssrStyle = definition;\r\n\t}\r\n}\r\n\r\nexport function removeStyleDefinition(space: ISpaceDefinition) {\r\n\tconst existing = document.getElementById(`style_${space.id}`);\r\n\tif (existing) {\r\n\t\tdocument.head.removeChild(existing);\r\n\t}\r\n}\r\n\r\nexport function isServer() {\r\n\tif (typeof document !== \"undefined\") {\r\n\t\tif (document) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n","import { SyntheticEvent } from \"react\";\r\nimport { ISpaceDefinition, ResizeType, ISpaceStore, OnResizeEnd, EndEvent, MoveEvent, Type, ISize } from \"./core-types\";\r\nimport { coalesce, throttle } from \"./core-utils\";\r\n\r\nconst RESIZE_THROTTLE = 0;\r\n\r\nexport interface IResizeChange {\r\n\tx: number;\r\n\ty: number;\r\n}\r\n\r\nfunction isHorizontal(resizeType: ResizeType) {\r\n\treturn resizeType === ResizeType.Left || resizeType === ResizeType.Right;\r\n}\r\n\r\ntype ResizeAdjuster = (currentX: number, currentY: number) => void;\r\n\r\nfunction createSideAdjuster(\r\n\trect: DOMRect,\r\n\tresizeType: ResizeType,\r\n\tdimensionToAdjust: ISize,\r\n\tspace: ISpaceDefinition,\r\n\toriginalX: number,\r\n\toriginalY: number,\r\n): ResizeAdjuster {\r\n\tconst negater = resizeType === ResizeType.Right || resizeType === ResizeType.Bottom ? (val: number) => -val : (val: number) => val;\r\n\r\n\tconst candidateOppositeDimensionToAdjust = isHorizontal(resizeType) ? space.width : space.height;\r\n\r\n\tconst offset1 = dimensionToAdjust.resized;\r\n\tconst offset2 = candidateOppositeDimensionToAdjust.resized;\r\n\r\n\tconst size = isHorizontal(resizeType) ? rect.width : rect.height;\r\n\tconst minimumAdjust = coalesce(space.minimumSize, 20)! - size + 0;\r\n\tconst maximumAdjust = space.maximumSize ? space.maximumSize - size + 0 : undefined;\r\n\r\n\treturn (currentX: number, currentY: number) => {\r\n\t\tlet adjustment = (isHorizontal(resizeType) ? originalX : originalY) - (isHorizontal(resizeType) ? currentX : currentY);\r\n\t\tlet dimensionResized = negater(adjustment);\r\n\r\n\t\tif (space.type !== Type.Positioned) {\r\n\t\t\tdimensionResized = Math.max(negater(adjustment), minimumAdjust);\r\n\r\n\t\t\tif (dimensionResized < minimumAdjust) {\r\n\t\t\t\tdimensionResized = minimumAdjust;\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof maximumAdjust === \"number\") {\r\n\t\t\t\tif (dimensionResized > maximumAdjust) {\r\n\t\t\t\t\tdimensionResized = maximumAdjust;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (dimensionToAdjust.size !== undefined) {\r\n\t\t\tdimensionToAdjust.resized = negater(-adjustment) + offset1;\r\n\t\t\tif (candidateOppositeDimensionToAdjust.size) {\r\n\t\t\t\tcandidateOppositeDimensionToAdjust.resized = negater(adjustment) + offset2;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcandidateOppositeDimensionToAdjust.resized = dimensionResized + offset2;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction createAdjuster(resizeType: ResizeType, space: ISpaceDefinition, originalX: number, originalY: number): ResizeAdjuster {\r\n\tconst rect = space.element.getBoundingClientRect();\r\n\tswitch (resizeType) {\r\n\t\tcase ResizeType.Left:\r\n\t\t\treturn createSideAdjuster(rect, resizeType, space.left, space, originalX, originalY);\r\n\t\tcase ResizeType.Right:\r\n\t\t\treturn createSideAdjuster(rect, resizeType, space.right, space, originalX, originalY);\r\n\t\tcase ResizeType.Bottom:\r\n\t\t\treturn createSideAdjuster(rect, resizeType, space.bottom, space, originalX, originalY);\r\n\t\tcase ResizeType.Top:\r\n\t\t\treturn createSideAdjuster(rect, resizeType, space.top, space, originalX, originalY);\r\n\t\tcase ResizeType.TopLeft:\r\n\t\t\tconst topAdjuster = createSideAdjuster(rect, ResizeType.Top, space.top, space, originalX, originalY);\r\n\t\t\tconst leftAdjuster = createSideAdjuster(rect, ResizeType.Left, space.left, space, originalX, originalY);\r\n\t\t\treturn (x, y) => {\r\n\t\t\t\ttopAdjuster(x, y);\r\n\t\t\t\tleftAdjuster(x, y);\r\n\t\t\t};\r\n\t\tcase ResizeType.TopRight:\r\n\t\t\tconst top1Adjuster = createSideAdjuster(rect, ResizeType.Top, space.top, space, originalX, originalY);\r\n\t\t\tconst rightAdjuster = createSideAdjuster(rect, ResizeType.Right, space.right, space, originalX, originalY);\r\n\t\t\treturn (x, y) => {\r\n\t\t\t\ttop1Adjuster(x, y);\r\n\t\t\t\trightAdjuster(x, y);\r\n\t\t\t};\r\n\t\tcase ResizeType.BottomLeft:\r\n\t\t\tconst bottomAdjuster = createSideAdjuster(rect, ResizeType.Bottom, space.bottom, space, originalX, originalY);\r\n\t\t\tconst left1Adjuster = createSideAdjuster(rect, ResizeType.Left, space.left, space, originalX, originalY);\r\n\t\t\treturn (x, y) => {\r\n\t\t\t\tbottomAdjuster(x, y);\r\n\t\t\t\tleft1Adjuster(x, y);\r\n\t\t\t};\r\n\t\tcase ResizeType.BottomRight:\r\n\t\t\tconst bottom1Adjuster = createSideAdjuster(rect, ResizeType.Bottom, space.bottom, space, originalX, originalY);\r\n\t\t\tconst right1Adjuster = createSideAdjuster(rect, ResizeType.Right, space.right, space, originalX, originalY);\r\n\t\t\treturn (x, y) => {\r\n\t\t\t\tbottom1Adjuster(x, y);\r\n\t\t\t\tright1Adjuster(x, y);\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\tthrow `Resize type ${resizeType} not supported`;\r\n\t}\r\n}\r\n\r\nexport function createResize(store: ISpaceStore) {\r\n\treturn {\r\n\t\tstartResize<T extends SyntheticEvent<HTMLElement> | MouseEvent | TouchEvent>(\r\n\t\t\te: T,\r\n\t\t\tresizeType: ResizeType,\r\n\t\t\tspace: ISpaceDefinition,\r\n\t\t\tendEvent: EndEvent,\r\n\t\t\tmoveEvent: MoveEvent,\r\n\t\t\tgetCoords: (event: T) => { x: number; y: number },\r\n\t\t\tonResizeEnd?: OnResizeEnd,\r\n\t\t) {\r\n\t\t\tif (space.onResizeStart) {\r\n\t\t\t\tconst result = space.onResizeStart(resizeType);\r\n\t\t\t\tif (typeof result === \"boolean\" && !result) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst originalCoords = getCoords(e);\r\n\t\t\tconst adjuster = createAdjuster(resizeType, space, originalCoords.x, originalCoords.y);\r\n\r\n\t\t\tspace.resizing = true;\r\n\t\t\tspace.updateParent();\r\n\r\n\t\t\tlet lastX = 0;\r\n\t\t\tlet lastY = 0;\r\n\t\t\tlet moved = false;\r\n\r\n\t\t\tconst resize = (currentX: number, currentY: number) => {\r\n\t\t\t\tadjuster(currentX, currentY);\r\n\t\t\t\tstore.updateStyles(space);\r\n\t\t\t};\r\n\r\n\t\t\tconst withPreventDefault = (e: T) => {\r\n\t\t\t\tmoved = true;\r\n\t\t\t\tconst newCoords = getCoords(e);\r\n\t\t\t\tlastX = newCoords.x;\r\n\t\t\t\tlastY = newCoords.y;\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif (RESIZE_THROTTLE > 0) {\r\n\t\t\t\t\tthrottle(\r\n\t\t\t\t\t\t(x, y) =>\r\n\t\t\t\t\t\t\twindow.requestAnimationFrame(() => {\r\n\t\t\t\t\t\t\t\tif (space.resizing) {\r\n\t\t\t\t\t\t\t\t\tresize(x, y);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\tRESIZE_THROTTLE,\r\n\t\t\t\t\t)(lastX, lastY);\r\n\t\t\t\t} else {\r\n\t\t\t\t\twindow.requestAnimationFrame(() => {\r\n\t\t\t\t\t\tif (space.resizing) {\r\n\t\t\t\t\t\t\tresize(lastX, lastY);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tconst removeListener = () => {\r\n\t\t\t\tspace.resizing = false;\r\n\r\n\t\t\t\tif (moved) {\r\n\t\t\t\t\tresize(lastX, lastY);\r\n\t\t\t\t}\r\n\r\n\t\t\t\twindow.removeEventListener(moveEvent, withPreventDefault as EventListener);\r\n\t\t\t\twindow.removeEventListener(endEvent, removeListener);\r\n\t\t\t\tspace.updateParent();\r\n\r\n\t\t\t\tconst resizeEnd = onResizeEnd || space.onResizeEnd;\r\n\t\t\t\tif (resizeEnd) {\r\n\t\t\t\t\tconst currentRect = space.element.getBoundingClientRect();\r\n\t\t\t\t\tresizeEnd(Math.floor(isHorizontal(resizeType) ? currentRect.width : currentRect.height), currentRect as DOMRect, resizeType);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\twindow.addEventListener(moveEvent, withPreventDefault as EventListener);\r\n\t\t\twindow.addEventListener(endEvent, removeListener);\r\n\t\t},\r\n\t};\r\n}\r\n","import { SyntheticEvent } from \"react\";\nimport { ISpaceDefinition, ISpaceStore, EndEvent, MoveEvent, OnDragEnd } from \"./core-types\";\nimport { throttle } from \"./core-utils\";\n\nexport function createDrag(store: ISpaceStore) {\n\tfunction onMove(space: ISpaceDefinition, originalX: number, originalY: number, x: number, y: number) {\n\t\tconst adjustmentX = -(originalX - x);\n\t\tconst adjustmentY = -(originalY - y);\n\n\t\tspace.left.adjusted = [adjustmentX];\n\t\tspace.top.adjusted = [adjustmentY];\n\n\t\tif (space.right.size) {\n\t\t\tspace.right.adjusted = [-adjustmentX];\n\t\t}\n\n\t\tif (space.bottom.size) {\n\t\t\tspace.bottom.adjusted = [-adjustmentY];\n\t\t}\n\n\t\tstore.updateStyles(space);\n\t}\n\n\treturn {\n\t\tstartDrag<T extends SyntheticEvent<HTMLElement> | MouseEvent | TouchEvent>(\n\t\t\te: T,\n\t\t\tspace: ISpaceDefinition,\n\t\t\tendEvent: EndEvent,\n\t\t\tmoveEvent: MoveEvent,\n\t\t\tgetCoords: (event: T) => { x: number; y: number },\n\t\t\tonDragEnd?: OnDragEnd,\n\t\t) {\n\t\t\tif (space.element) {\n\t\t\t\tconst coords = getCoords(e);\n\t\t\t\tconst adjustedLeft = space.left.adjusted.length === 0 ? 0 : (space.left.adjusted[0] as number);\n\t\t\t\tconst adjustedTop = space.top.adjusted.length === 0 ? 0 : (space.top.adjusted[0] as number);\n\t\t\t\tconst originalMouseX = coords.x - adjustedLeft;\n\t\t\t\tconst originalMouseY = coords.y - adjustedTop;\n\t\t\t\tlet lastX = 0;\n\t\t\t\tlet lastY = 0;\n\t\t\t\tlet moved = false;\n\n\t\t\t\tconst mouseMove = (x: number, y: number) => onMove(space, originalMouseX, originalMouseY, x, y);\n\t\t\t\tconst throttledMouseMove = throttle<typeof mouseMove>(mouseMove, 5);\n\n\t\t\t\tconst withPreventDefault = (e: T) => {\n\t\t\t\t\tmoved = true;\n\t\t\t\t\tconst newCoords = getCoords(e);\n\t\t\t\t\tlastX = newCoords.x;\n\t\t\t\t\tlastY = newCoords.y;\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tthrottledMouseMove(lastX, lastY);\n\t\t\t\t};\n\n\t\t\t\tconst removeListener = () => {\n\t\t\t\t\tif (moved) {\n\t\t\t\t\t\tmouseMove(lastX, lastY);\n\t\t\t\t\t}\n\t\t\t\t\twindow.removeEventListener(moveEvent, withPreventDefault as EventListener);\n\t\t\t\t\twindow.removeEventListener(endEvent, removeListener);\n\n\t\t\t\t\tif (onDragEnd) {\n\t\t\t\t\t\tconst parentInfo = (space.parentId && store.getSpace(space.parentId)?.element.getBoundingClientRect()) || {\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\t\twidth: 0,\n\t\t\t\t\t\t\theight: 0,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tconst info = (({ left, top, right, bottom, width, height }) => ({ left, top, right, bottom, width, height }))(\n\t\t\t\t\t\t\tspace.element.getBoundingClientRect(),\n\t\t\t\t\t\t);\n\t\t\t\t\t\tonDragEnd(\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...info,\n\t\t\t\t\t\t\t\t...{\n\t\t\t\t\t\t\t\t\tleft: info.left - parentInfo.left,\n\t\t\t\t\t\t\t\t\ttop: info.top - parentInfo.top,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tmoved,\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\twindow.addEventListener(moveEvent, withPreventDefault as EventListener);\n\t\t\t\twindow.addEventListener(endEvent, removeListener);\n\t\t\t}\n\t\t},\n\t};\n}\n","import {\r\n\tISpaceDefinition,\r\n\tSizeUnit,\r\n\tAnchorType,\r\n\tType,\r\n\tOrientation,\r\n\tEndEvent,\r\n\tMoveEvent,\r\n\tISpaceStore,\r\n\tISpaceProps,\r\n\tCenterType,\r\n\tResizeHandlePlacement,\r\n} from \"./core-types\";\r\nimport { createResize } from \"./core-resizing\";\r\nimport { updateStyleDefinition, removeStyleDefinition, coalesce, adjustmentsEqual } from \"./core-utils\";\r\nimport { createDrag } from \"./core-dragging\";\r\n\r\nconst spaceDefaults: Partial<ISpaceDefinition> = {\r\n\tid: \"\",\r\n\tzIndex: 0,\r\n\tscrollable: false,\r\n\tresizing: false,\r\n\tallowOverflow: false,\r\n\tcenterContent: \"none\",\r\n\tdimension: { left: 0, top: 0, right: 0, bottom: 0, width: 0, height: 0, x: 0, y: 0, toJSON: () => \"\" },\r\n\thandleSize: 5,\r\n\ttouchHandleSize: 5,\r\n\thandlePlacement: ResizeHandlePlacement.OverlayInside,\r\n\tadjustLeft: () => false,\r\n\tadjustRight: () => false,\r\n\tadjustTop: () => false,\r\n\tadjustBottom: () => false,\r\n\tadjustEdge: () => false,\r\n\tanchoredChildren: () => [],\r\n};\r\n\r\nconst anchorTypes = [AnchorType.Left, AnchorType.Top, AnchorType.Right, AnchorType.Bottom];\r\n\r\nfunction getPosition(type: Type) {\r\n\tif (type === Type.ViewPort) {\r\n\t\treturn \"fixed\";\r\n\t}\r\n\tif (type === Type.Fixed) {\r\n\t\treturn \"relative\";\r\n\t}\r\n\treturn \"absolute\";\r\n}\r\n\r\nfunction getOrientation(anchor: AnchorType | undefined) {\r\n\treturn anchor === AnchorType.Bottom || anchor === AnchorType.Top ? Orientation.Vertical : Orientation.Horizontal;\r\n}\r\n\r\nfunction anchorUpdates(space: ISpaceDefinition) {\r\n\treturn [\r\n\t\t{\r\n\t\t\tanchor: AnchorType.Left,\r\n\t\t\tupdate: space.adjustLeft,\r\n\t\t},\r\n\t\t{\r\n\t\t\tanchor: AnchorType.Top,\r\n\t\t\tupdate: space.adjustTop,\r\n\t\t},\r\n\t\t{\r\n\t\t\tanchor: AnchorType.Right,\r\n\t\t\tupdate: space.adjustRight,\r\n\t\t},\r\n\t\t{\r\n\t\t\tanchor: AnchorType.Bottom,\r\n\t\t\tupdate: space.adjustBottom,\r\n\t\t},\r\n\t];\r\n}\r\n\r\nfunction sizeInfoDefault(size: SizeUnit) {\r\n\treturn { size: size, adjusted: [], resized: 0 };\r\n}\r\n\r\nexport function createStore(): ISpaceStore {\r\n\tlet spaces: ISpaceDefinition[] = [];\r\n\r\n\tconst setSpaces = (newSpaces: ISpaceDefinition[]) => {\r\n\t\tspaces = newSpaces;\r\n\t};\r\n\r\n\tconst getSpace = (id: string) => {\r\n\t\treturn getSpaces().find((s) => s.id === id);\r\n\t};\r\n\r\n\tconst getSpaces = () => spaces;\r\n\r\n\tconst recalcSpaces = (parent: ISpaceDefinition) => {\r\n\t\tconst onlyUnique = (value: number, index: number, self: number[]) => {\r\n\t\t\treturn self.indexOf(value) === index;\r\n\t\t};\r\n\r\n\t\tconst addDefaultOrders = (spaces: ISpaceDefinition[]) => {\r\n\t\t\tlet result: ISpaceDefinition[] = [];\r\n\r\n\t\t\tanchorTypes.forEach((t) => {\r\n\t\t\t\tconst anchoredSpaces = spaces.filter((s) => s.anchor !== undefined && s.anchor === t);\r\n\t\t\t\tconst zIndices = anchoredSpaces.map((s) => s.zIndex).filter(onlyUnique);\r\n\t\t\t\tzIndices.forEach((i) => {\r\n\t\t\t\t\tconst anchoredSpacesInLayer = anchoredSpaces.filter((s) => s.zIndex === i);\r\n\t\t\t\t\tconst orderedSpaces = anchoredSpacesInLayer.filter((c) => c.order !== undefined);\r\n\t\t\t\t\tconst unorderedSpaces = anchoredSpacesInLayer.filter((c) => c.order === undefined);\r\n\t\t\t\t\tvar maxOrder = orderedSpaces.length > 0 ? orderedSpaces.map((a) => a.order!).reduce((a, b) => Math.max(a, b)) : 0;\r\n\t\t\t\t\tresult = [...result, ...[...orderedSpaces, ...unorderedSpaces.map((c, idx) => ({ ...c, ...{ order: maxOrder + idx + 1 } }))]];\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treturn [...result, ...spaces.filter((s) => s.anchor === undefined)];\r\n\t\t};\r\n\r\n\t\tconst orderedSpaces = addDefaultOrders(parent.children);\r\n\t\tfor (var i = 0, len = orderedSpaces.length; i < len; i++) {\r\n\t\t\tconst space = orderedSpaces[i];\r\n\t\t\tlet changed = false;\r\n\r\n\t\t\tif (space.type === Type.Fill) {\r\n\t\t\t\tanchorUpdates(space).forEach((info) => {\r\n\t\t\t\t\tconst adjusted: SizeUnit[] = [];\r\n\t\t\t\t\tconst anchoredSpaces = parent.anchoredChildren(orderedSpaces, info.anchor, space.zIndex);\r\n\r\n\t\t\t\t\tanchoredSpaces.forEach((as) => {\r\n\t\t\t\t\t\tif (as.orientation === Orientation.Vertical) {\r\n\t\t\t\t\t\t\tif (as.height.size) {\r\n\t\t\t\t\t\t\t\tadjusted.push(as.height.size);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (as.height.resized) {\r\n\t\t\t\t\t\t\t\tadjusted.push(as.height.resized);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (as.width.size) {\r\n\t\t\t\t\t\t\t\tadjusted.push(as.width.size);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (as.width.resized) {\r\n\t\t\t\t\t\t\t\tadjusted.push(as.width.resized);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (info.update(adjusted)) {\r\n\t\t\t\t\t\tchanged = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else if (space.type === Type.Anchored) {\r\n\t\t\t\tconst adjusted: SizeUnit[] = [];\r\n\t\t\t\tconst anchoredSpaces = parent\r\n\t\t\t\t\t.anchoredChildren(orderedSpaces, space.anchor!, space.zIndex)\r\n\t\t\t\t\t.filter((s) => s.id !== space.id && s.order! <= space.order!);\r\n\r\n\t\t\t\tanchoredSpaces.forEach((as) => {\r\n\t\t\t\t\tif (as.orientation === Orientation.Vertical) {\r\n\t\t\t\t\t\tif (as.height.size) {\r\n\t\t\t\t\t\t\tadjusted.push(as.height.size);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (as.height.resized) {\r\n\t\t\t\t\t\t\tadjusted.push(as.height.resized);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (as.width.size) {\r\n\t\t\t\t\t\t\tadjusted.push(as.width.size);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (as.width.resized) {\r\n\t\t\t\t\t\t\tadjusted.push(as.width.resized);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (space.adjustEdge(adjusted)) {\r\n\t\t\t\t\tchanged = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (changed) {\r\n\t\t\t\tupdateStyleDefinition(space);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst store: ISpaceStore = {\r\n\t\tgetSpaces: getSpaces,\r\n\t\tgetSpace: getSpace,\r\n\t\taddSpace: (space) => {\r\n\t\t\tgetSpaces().push(space);\r\n\r\n\t\t\tif (space.parentId) {\r\n\t\t\t\tconst parentSpace = getSpace(space.parentId);\r\n\t\t\t\tif (parentSpace) {\r\n\t\t\t\t\tparentSpace.children.push(space);\r\n\t\t\t\t\trecalcSpaces(parentSpace);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tupdateStyleDefinition(space);\r\n\t\t},\r\n\t\tremoveSpace: (space) => {\r\n\t\t\tsetSpaces(getSpaces().filter((s) => s.id !== space.id));\r\n\r\n\t\t\tif (space.parentId) {\r\n\t\t\t\tconst parentSpace = getSpace(space.parentId);\r\n\t\t\t\tif (parentSpace) {\r\n\t\t\t\t\tparentSpace.children = parentSpace.children.filter((s) => s.id !== space.id);\r\n\t\t\t\t\trecalcSpaces(parentSpace);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tremoveStyleDefinition(space);\r\n\t\t},\r\n\t\tupdateStyles: (space) => {\r\n\t\t\tif (space.parentId) {\r\n\t\t\t\tconst parent = getSpace(space.parentId);\r\n\t\t\t\tif (parent) {\r\n\t\t\t\t\trecalcSpaces(parent);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tupdateStyleDefinition(space);\r\n\t\t},\r\n\t\tupdateSpace: (space, props) => {\r\n\t\t\tconst {\r\n\t\t\t\ttype,\r\n\t\t\t\tanchor,\r\n\t\t\t\torder,\r\n\t\t\t\tzIndex,\r\n\t\t\t\tscrollable,\r\n\t\t\t\tposition,\r\n\t\t\t\tcenterContent,\r\n\t\t\t\tminimumSize,\r\n\t\t\t\tmaximumSize,\r\n\t\t\t\thandleSize,\r\n\t\t\t\ttouchHandleSize,\r\n\t\t\t\thandlePlacement,\r\n\t\t\t\tallowOverflow,\r\n\t\t\t} = props;\r\n\t\t\tconst canResizeLeft = (position && position.leftResizable) || false;\r\n\t\t\tconst canResizeRight = (position && position.rightResizable) || false;\r\n\t\t\tconst canResizeTop = (position && position.topResizable) || false;\r\n\t\t\tconst canResizeBottom = (position && position.bottomResizable) || false;\r\n\t\t\tconst canResizeTopLeft = (position && position.topLeftResizable) || false;\r\n\t\t\tconst canResizeTopRight = (position && position.topRightResizable) || false;\r\n\t\t\tconst canResizeBottomLeft = (position && position.bottomLeftResizable) || false;\r\n\t\t\tconst canResizeBottomRight = (position && position.bottomRightResizable) || false;\r\n\r\n\t\t\tlet changed = false;\r\n\r\n\t\t\tif (space.type !== type) {\r\n\t\t\t\tspace.type = type;\r\n\t\t\t\tspace.position = getPosition(type);\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.anchor !== anchor) {\r\n\t\t\t\tspace.anchor = anchor;\r\n\t\t\t\tspace.orientation = getOrientation(anchor);\r\n\t\t\t\tchanged = true;\r\n\r\n\t\t\t\tif (type === Type.Anchored) {\r\n\t\t\t\t\tif (anchor === AnchorType.Left) {\r\n\t\t\t\t\t\tspace.adjustEdge = space.adjustLeft;\r\n\t\t\t\t\t} else if (anchor === AnchorType.Top) {\r\n\t\t\t\t\t\tspace.adjustEdge = space.adjustTop;\r\n\t\t\t\t\t} else if (anchor === AnchorType.Right) {\r\n\t\t\t\t\t\tspace.adjustEdge = space.adjustRight;\r\n\t\t\t\t\t} else if (anchor === AnchorType.Bottom) {\r\n\t\t\t\t\t\tspace.adjustEdge = space.adjustBottom;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (space.left.size !== (position && position.left)) {\r\n\t\t\t\tspace.left.size = position && position.left;\r\n\t\t\t\tspace.left.resized = 0;\r\n\t\t\t\tspace.left.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.right.size !== (position && position.right)) {\r\n\t\t\t\tspace.right.size = position && position.right;\r\n\t\t\t\tspace.right.resized = 0;\r\n\t\t\t\tspace.right.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.top.size !== (position && position.top)) {\r\n\t\t\t\tspace.top.size = position && position.top;\r\n\t\t\t\tspace.top.resized = 0;\r\n\t\t\t\tspace.top.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.bottom.size !== (position && position.bottom)) {\r\n\t\t\t\tspace.bottom.size = position && position.bottom;\r\n\t\t\t\tspace.bottom.resized = 0;\r\n\t\t\t\tspace.bottom.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.width.size !== (position && position.width)) {\r\n\t\t\t\tspace.width.size = position && position.width;\r\n\t\t\t\tspace.width.resized = 0;\r\n\t\t\t\tspace.width.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.height.size !== (position && position.height)) {\r\n\t\t\t\tspace.height.size = position && position.height;\r\n\t\t\t\tspace.height.resized = 0;\r\n\t\t\t\tspace.height.adjusted = [];\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (coalesce(space.order, 0) !== coalesce(order, 0)) {\r\n\t\t\t\tspace.order = coalesce(order, 0)!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (coalesce(space.zIndex, 0) !== coalesce(zIndex, 0)) {\r\n\t\t\t\tspace.zIndex = coalesce(zIndex, 0)!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (coalesce(space.scrollable, false) !== coalesce(scrollable, false)) {\r\n\t\t\t\tspace.scrollable = coalesce(scrollable, false)!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.minimumSize !== minimumSize) {\r\n\t\t\t\tspace.minimumSize = minimumSize;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.maximumSize !== maximumSize) {\r\n\t\t\t\tspace.maximumSize = maximumSize;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (coalesce(space.centerContent, CenterType.None) !== coalesce(centerContent, CenterType.None)) {\r\n\t\t\t\tspace.centerContent = coalesce(centerContent, CenterType.None)!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.handleSize !== handleSize) {\r\n\t\t\t\tspace.handleSize = handleSize || spaceDefaults.handleSize!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.touchHandleSize !== touchHandleSize) {\r\n\t\t\t\tspace.touchHandleSize = touchHandleSize || spaceDefaults.touchHandleSize!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.handlePlacement !== handlePlacement) {\r\n\t\t\t\tspace.handlePlacement = handlePlacement || spaceDefaults.handlePlacement!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeBottom !== canResizeBottom) {\r\n\t\t\t\tspace.canResizeBottom = canResizeBottom;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeTop !== canResizeTop) {\r\n\t\t\t\tspace.canResizeTop = canResizeTop;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeLeft !== canResizeLeft) {\r\n\t\t\t\tspace.canResizeLeft = canResizeLeft;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeRight !== canResizeRight) {\r\n\t\t\t\tspace.canResizeRight = canResizeRight;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeTopLeft !== canResizeTopLeft) {\r\n\t\t\t\tspace.canResizeTopLeft = canResizeTopLeft;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeTopRight !== canResizeTopRight) {\r\n\t\t\t\tspace.canResizeTopRight = canResizeTopRight;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeBottomLeft !== canResizeBottomLeft) {\r\n\t\t\t\tspace.canResizeBottomLeft = canResizeBottomLeft;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.canResizeBottomRight !== canResizeBottomRight) {\r\n\t\t\t\tspace.canResizeBottomRight = canResizeBottomRight;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (space.allowOverflow !== allowOverflow) {\r\n\t\t\t\tspace.allowOverflow = allowOverflow || spaceDefaults.allowOverflow!;\r\n\t\t\t\tchanged = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (changed) {\r\n\t\t\t\tif (space.parentId) {\r\n\t\t\t\t\tconst parentSpace = getSpace(space.parentId);\r\n\t\t\t\t\tif (parentSpace) {\r\n\t\t\t\t\t\trecalcSpaces(parentSpace);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tupdateStyleDefinition(space);\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreateSpace: () => ({} as ISpaceDefinition),\r\n\t\tstartMouseResize: () => null,\r\n\t\tstartTouchResize: () => null,\r\n\t\tstartMouseDrag: () => null,\r\n\t\tstartTouchDrag: () => null,\r\n\t};\r\n\r\n\tconst resize = createResize(store);\r\n\tconst drag = createDrag(store);\r\n\r\n\tstore.createSpace = (parentId: string | undefined, props: ISpaceProps, update: () => void) => {\r\n\t\tconst { position, anchor, type, ...commonProps } = props;\r\n\t\tconst canResizeLeft = (position && position.rightResizable) || false;\r\n\t\tconst canResizeRight = (position && position.leftResizable) || false;\r\n\t\tconst canResizeTop = (position && position.bottomResizable) || false;\r\n\t\tconst canResizeBottom = (position && position.topResizable) || false;\r\n\t\tconst canResizeTopLeft = (position && position.topLeftResizable) || false;\r\n\t\tconst canResizeTopRight = (position && position.topRightResizable) || false;\r\n\t\tconst canResizeBottomLeft = (position && position.bottomLeftResizable) || false;\r\n\t\tconst canResizeBottomRight = (position && position.bottomRightResizable) || false;\r\n\r\n\t\tconst newSpace: ISpaceDefinition = {\r\n\t\t\t...spaceDefaults,\r\n\t\t\t...commonProps,\r\n\t\t\t...{\r\n\t\t\t\tstore: store,\r\n\t\t\t\tupdate: update,\r\n\t\t\t\tupdateParent: () => {\r\n\t\t\t\t\tif (parentId) {\r\n\t\t\t\t\t\tconst parentSpace = store.getSpace(parentId);\r\n\t\t\t\t\t\tif (parentSpace) {\r\n\t\t\t\t\t\t\tparentSpace.update();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tparentId: parentId,\r\n\t\t\t\tchildren: [],\r\n\t\t\t\tanchor: anchor,\r\n\t\t\t\ttype: type,\r\n\t\t\t\torientation: getOrientation(anchor),\r\n\t\t\t\tposition: getPosition(type),\r\n\t\t\t\tleft: sizeInfoDefault(position && position.left),\r\n\t\t\t\tright: sizeInfoDefault(position && position.right),\r\n\t\t\t\ttop: sizeInfoDefault(position && position.top),\r\n\t\t\t\tbottom: sizeInfoDefault(position && position.bottom),\r\n\t\t\t\twidth: sizeInfoDefault(position && position.width),\r\n\t\t\t\theight: sizeInfoDefault(position && position.height),\r\n\t\t\t\tcanResizeLeft: canResizeLeft,\r\n\t\t\t\tcanResizeRight: canResizeRight,\r\n\t\t\t\tcanResizeTop: canResizeTop,\r\n\t\t\t\tcanResizeBottom: canResizeBottom,\r\n\t\t\t\tcanResizeTopLeft: canResizeTopLeft,\r\n\t\t\t\tcanResizeTopRight: canResizeTopRight,\r\n\t\t\t\tcanResizeBottomLeft: canResizeBottomLeft,\r\n\t\t\t\tcanResizeBottomRight: canResizeBottomRight,\r\n\t\t\t},\r\n\t\t} as ISpaceDefinition;\r\n\r\n\t\tnewSpace.anchoredChildren = (children, chanchor, zIndex) => {\r\n\t\t\treturn children.filter((s) => s.type === Type.Anchored && s.anchor === chanchor && s.zIndex === zIndex);\r\n\t\t};\r\n\r\n\t\tnewSpace.adjustLeft = (adjusted) => {\r\n\t\t\tif (adjustmentsEqual(newSpace.left.adjusted, adjusted)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tnewSpace.left.adjusted = adjusted;\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tnewSpace.adjustRight = (adjusted) => {\r\n\t\t\tif (adjustmentsEqual(newSpace.right.adjusted, adjusted)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tnewSpace.right.adjusted = adjusted;\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tnewSpace.adjustTop = (adjusted) => {\r\n\t\t\tif (adjustmentsEqual(newSpace.top.adjusted, adjusted)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tnewSpace.top.adjusted = adjusted;\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tnewSpace.adjustBottom = (adjusted) => {\r\n\t\t\tif (adjustmentsEqual(newSpace.bottom.adjusted, adjusted)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tnewSpace.bottom.adjusted = adjusted;\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tif (type === Type.Anchored) {\r\n\t\t\tif (anchor === AnchorType.Left) {\r\n\t\t\t\tnewSpace.adjustEdge = newSpace.adjustLeft;\r\n\t\t\t} else if (anchor === AnchorType.Top) {\r\n\t\t\t\tnewSpace.adjustEdge = newSpace.adjustTop;\r\n\t\t\t} else if (anchor === AnchorType.Right) {\r\n\t\t\t\tnewSpace.adjustEdge = newSpace.adjustRight;\r\n\t\t\t} else if (anchor === AnchorType.Bottom) {\r\n\t\t\t\tnewSpace.adjustEdge = newSpace.adjustBottom;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newSpace;\r\n\t};\r\n\r\n\tstore.startMouseResize = (resizeType, space, event, onResizeEnd) => {\r\n\t\tresize.startResize(\r\n\t\t\tevent,\r\n\t\t\tresizeType,\r\n\t\t\tspace,\r\n\t\t\tEndEvent.Mouse,\r\n\t\t\tMoveEvent.Mouse,\r\n\t\t\t(e) => ({\r\n\t\t\t\tx: e.clientX,\r\n\t\t\t\ty: e.clientY,\r\n\t\t\t}),\r\n\t\t\tonResizeEnd,\r\n\t\t);\r\n\t};\r\n\r\n\tstore.startTouchResize = (resizeType, space, event, onResizeEnd) => {\r\n\t\tresize.startResize(\r\n\t\t\tevent,\r\n\t\t\tresizeType,\r\n\t\t\tspace,\r\n\t\t\tEndEvent.Touch,\r\n\t\t\tMoveEvent.Touch,\r\n\t\t\t(e) => ({\r\n\t\t\t\tx: e.touches[0].clientX,\r\n\t\t\t\ty: e.touches[0].clientY,\r\n\t\t\t}),\r\n\t\t\tonResizeEnd,\r\n\t\t);\r\n\t};\r\n\r\n\tstore.startMouseDrag = (space, event, onDragEnd) => {\r\n\t\tdrag.startDrag(\r\n\t\t\tevent,\r\n\t\t\tspace,\r\n\t\t\tEndEvent.Mouse,\r\n\t\t\tMoveEvent.Mouse,\r\n\t\t\t(e) => ({\r\n\t\t\t\tx: e.clientX,\r\n\t\t\t\ty: e.clientY,\r\n\t\t\t}),\r\n\t\t\tonDragEnd,\r\n\t\t);\r\n\t};\r\n\r\n\tstore.startTouchDrag = (space, event, onDragEnd) => {\r\n\t\tdrag.startDrag(\r\n\t\t\tevent,\r\n\t\t\tspace,\r\n\t\t\tEndEvent.Touch,\r\n\t\t\tMoveEvent.Touch,\r\n\t\t\t(e) => ({\r\n\t\t\t\tx: e.touches[0].clientX,\r\n\t\t\t\ty: e.touches[0].clientY,\r\n\t\t\t}),\r\n\t\t\tonDragEnd,\r\n\t\t);\r\n\t};\r\n\r\n\treturn store;\r\n}\r\n","import * as React from \"react\";\r\nimport { createStore } from \"./core\";\r\nimport {\r\n\tISpaceProps,\r\n\tISpaceStore,\r\n\tISpaceDefinition,\r\n\tResizeType,\r\n\tCenterType,\r\n\tISpaceContext,\r\n\tICommonProps,\r\n\tResizeMouseEvent,\r\n\tOnDragEnd,\r\n\tResizeTouchEvent,\r\n} from \"./core-types\";\r\nimport { coalesce, shortuuid } from \"./core-utils\";\r\nimport { ResizeSensor } from \"css-element-queries\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\n// WORKAROUND for React18 strict mode\r\n// https://blog.ag-grid.com/avoiding-react-18-double-mount/\r\nexport const useEffectOnce = (effect: () => void | (() => void)) => {\r\n\tconst destroyFunc = useRef<void | (() => void)>();\r\n\tconst effectCalled = useRef(false);\r\n\tconst renderAfterCalled = useRef(false);\r\n\tconst [_val, setVal] = useState<number>(0);\r\n\r\n\tif (effectCalled.current) {\r\n\t\trenderAfterCalled.current = true;\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\t// only execute the effect first time around\r\n\t\tif (!effectCalled.current) {\r\n\t\t\tdestroyFunc.current = effect();\r\n\t\t\teffectCalled.current = true;\r\n\t\t}\r\n\r\n\t\t// this forces one render after the effect is run\r\n\t\tsetVal((val) => val + 1);\r\n\r\n\t\treturn () => {\r\n\t\t\t// if the comp didn't render since the useEffect was called,\r\n\t\t\t// we know it's the dummy React cycle\r\n\t\t\tif (!renderAfterCalled.current) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (destroyFunc.current) {\r\n\t\t\t\tdestroyFunc.current();\r\n\t\t\t}\r\n\t\t};\r\n\t}, []);\r\n};\r\n\r\nexport const ParentContext = React.createContext<string | undefined>(undefined);\r\nexport const DOMRectContext = React.createContext<DOMRect | undefined>(undefined);\r\nexport const LayerContext = React.createContext<number | undefined>(undefined);\r\nexport const OptionsContext = React.createContext<IReactSpacesOptions>({});\r\nexport const currentStore = createStore();\r\n\r\nexport const commonProps = {\r\n\tid: PropTypes.string,\r\n\tclassName: PropTypes.string,\r\n\tstyle: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\r\n\tas: PropTypes.any,\r\n\tcenterContent: PropTypes.oneOf([CenterType.None, CenterType.Vertical, CenterType.HorizontalVertical]),\r\n\tzIndex: PropTypes.number,\r\n\tscrollable: PropTypes.bool,\r\n\ttrackSize: PropTypes.bool,\r\n\tallowOverflow: PropTypes.bool,\r\n\thandleRender: PropTypes.func,\r\n\tonClick: PropTypes.func,\r\n\tonDoubleClick: PropTypes.func,\r\n\tonMouseDown: PropTypes.func,\r\n\tonMouseEnter: PropTypes.func,\r\n\tonMouseLeave: PropTypes.func,\r\n\tonMouseMove: PropTypes.func,\r\n\tonTouchStart: PropTypes.func,\r\n\tonTouchMove: PropTypes.func,\r\n\tonTouchEnd: PropTypes.func,\r\n};\r\n\r\nexport interface IReactSpacesOptions {\r\n\tdebug?: boolean;\r\n}\r\n\r\nexport interface IReactEvents {\r\n\tonClick?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonDoubleClick?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonMouseDown?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonMouseEnter?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonMouseLeave?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonMouseMove?: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonTouchStart?: (event: React.TouchEvent<HTMLElement>) => void;\r\n\tonTouchMove?: (event: React.TouchEvent<HTMLElement>) => void;\r\n\tonTouchEnd?: (event: React.TouchEvent<HTMLElement>) => void;\r\n}\r\n\r\nexport interface IReactSpaceCommonProps extends ICommonProps, IReactEvents {\r\n\tstyle?: React.CSSProperties;\r\n\tas?: keyof React.ReactDOM | React.ComponentType<ICommonProps>;\r\n\tchildren?: React.ReactNode;\r\n}\r\n\r\nexport interface IReactSpaceInnerProps extends IReactSpaceCommonProps, ISpaceProps, IReactEvents {\r\n\thandleRender?: (handleProps: IResizeHandleProps) => React.ReactNode;\r\n}\r\n\r\nexport interface IReactSpacesOptions {\r\n\tdebug?: boolean;\r\n}\r\n\r\nexport function useForceUpdate() {\r\n\tconst [, setTick] = React.useState(0);\r\n\treturn React.useCallback(() => {\r\n\t\tsetTick((tick) => tick + 1);\r\n\t}, []);\r\n}\r\n\r\nexport function useUniqueId() {\r\n\tif (SSR_SUPPORT_ENABLED) {\r\n\t\tif (React.version.startsWith(\"18\")) {\r\n\t\t\treturn `s${React.useId().replace(/\\:/g, \"\")}`;\r\n\t\t}\r\n\t}\r\n\r\n\treturn `s${shortuuid()}`;\r\n}\r\n\r\nexport function useSpace(props: IReactSpaceInnerProps) {\r\n\tconst store = currentStore;\r\n\tconst update = useForceUpdate();\r\n\tconst parent = React.useContext(ParentContext);\r\n\tconst layer = React.useContext(LayerContext);\r\n\tconst { debug } = React.useContext(OptionsContext);\r\n\tconst uniqueId = useUniqueId();\r\n\tconst [spaceId] = React.useState(props.id || uniqueId);\r\n\tconst elementRef = React.useRef<HTMLElement>();\r\n\tconst resizeSensor = React.useRef<ResizeSensor>();\r\n\tconst [domRect, setDomRect] = React.useState<DOMRect>();\r\n\r\n\tlet space = store.getSpace(spaceId)!;\r\n\r\n\tif (debug) {\r\n\t\tconsole.table(store.getSpaces());\r\n\t}\r\n\r\n\tconst parsedProps = {\r\n\t\t...props,\r\n\t\t...{\r\n\t\t\tid: spaceId,\r\n\t\t\tzIndex: coalesce(props.zIndex, layer),\r\n\t\t},\r\n\t};\r\n\r\n\tif (!space) {\r\n\t\tspace = store.createSpace(parent, parsedProps, update);\r\n\t\tstore.addSpace(space);\r\n\t} else {\r\n\t\tstore.updateSpace(space, parsedProps);\r\n\t}\r\n\r\n\tconst resizeHandles = useSpaceResizeHandles(store, space);\r\n\r\n\tuseEffectOnce(() => {\r\n\t\tconst rect = elementRef.current ? elementRef.current.getBoundingClientRect() : new DOMRect();\r\n\t\tspace.dimension = {\r\n\t\t\t...rect,\r\n\t\t\t...{\r\n\t\t\t\tleft: Math.floor(rect.left),\r\n\t\t\t\ttop: Math.floor(rect.top),\r\n\t\t\t\tright: Math.floor(rect.right),\r\n\t\t\t\tbottom: Math.floor(rect.bottom),\r\n\t\t\t\twidth: Math.floor(rect.width),\r\n\t\t\t\theight: Math.floor(rect.height),\r\n\t\t\t\tx: Math.floor(rect.x),\r\n\t\t\t\ty: Math.floor(rect.y),\r\n\t\t\t},\r\n\t\t};\r\n\t\tsetDomRect(space.dimension);\r\n\r\n\t\tif (props.trackSize) {\r\n\t\t\tresizeSensor.current = new ResizeSensor(elementRef.current!, (size) => {\r\n\t\t\t\tspace.dimension = {\r\n\t\t\t\t\t...rect,\r\n\t\t\t\t\t...{\r\n\t\t\t\t\t\twidth: Math.floor(size.width),\r\n\t\t\t\t\t\theight: Math.floor(size.height),\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\t\tsetDomRect(space.dimension);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn () => {\r\n\t\t\tresizeSensor.current && resizeSensor.current.detach();\r\n\t\t\tstore.removeSpace(space);\r\n\t\t};\r\n\t});\r\n\r\n\treturn { space: space, resizeHandles: resizeHandles, domRect: domRect, elementRef: elementRef };\r\n}\r\n\r\nexport interface IResizeHandleProps {\r\n\tid?: string;\r\n\tkey: string | number;\r\n\tclassName?: string;\r\n\tonMouseDown: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\r\n\tonTouchStart: (e: React.TouchEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst resizeSetup = [\r\n\t{ id: \"ml\", className: \"resize-left\", resizeType: ResizeType.Left, condition: (space: ISpaceDefinition) => space.canResizeLeft },\r\n\t{ id: \"mr\", className: \"resize-right\", resizeType: ResizeType.Right, condition: (space: ISpaceDefinition) => space.canResizeRight },\r\n\t{ id: \"mt\", className: \"resize-top\", resizeType: ResizeType.Top, condition: (space: ISpaceDefinition) => space.canResizeTop },\r\n\t{ id: \"mb\", className: \"resize-bottom\", resizeType: ResizeType.Bottom, condition: (space: ISpaceDefinition) => space.canResizeBottom },\r\n\t{ id: \"mtl\", className: \"resize-top-left\", resizeType: ResizeType.TopLeft, condition: (space: ISpaceDefinition) => space.canResizeTopLeft },\r\n\t{ id: \"mtr\", className: \"resize-top-right\", resizeType: ResizeType.TopRight, condition: (space: ISpaceDefinition) => space.canResizeTopRight },\r\n\t{\r\n\t\tid: \"mbl\",\r\n\t\tclassName: \"resize-bottom-left\",\r\n\t\tresizeType: ResizeType.BottomLeft,\r\n\t\tcondition: (space: ISpaceDefinition) => space.canResizeBottomLeft,\r\n\t},\r\n\t{\r\n\t\tid: \"mbr\",\r\n\t\tclassName: \"resize-bottom-right\",\r\n\t\tresizeType: ResizeType.BottomRight,\r\n\t\tcondition: (space: ISpaceDefinition) => space.canResizeBottomRight,\r\n\t},\r\n];\r\n\r\nexport function useSpaceResizeHandles(store: ISpaceStore, space: ISpaceDefinition) {\r\n\tconst mouseHandles: IResizeHandleProps[] = [];\r\n\r\n\tconst setupResizeHandle = (id: string, className: string, resizeType: ResizeType) => {\r\n\t\tmouseHandles.push({\r\n\t\t\tid: `${space.id}-${id}`,\r\n\t\t\tkey: id,\r\n\t\t\tclassName: `spaces-resize-handle ${className}`,\r\n\t\t\tonMouseDown: (event) => store.startMouseResize(resizeType, space, event),\r\n\t\t\tonTouchStart: (event) => store.startTouchResize(resizeType, space, event),\r\n\t\t});\r\n\t};\r\n\r\n\tresizeSetup.forEach((resizeItem) => {\r\n\t\tif (resizeItem.condition(space)) {\r\n\t\t\tsetupResizeHandle(resizeItem.id, resizeItem.className, resizeItem.resizeType);\r\n\t\t}\r\n\t});\r\n\r\n\treturn {\r\n\t\tmouseHandles,\r\n\t};\r\n}\r\n\r\nexport function useCurrentSpace() {\r\n\tconst store = currentStore;\r\n\tconst spaceId = React.useContext(ParentContext);\r\n\r\n\tconst space = spaceId ? store.getSpace(spaceId) : undefined;\r\n\r\n\tconst domRect = React.useContext(DOMRectContext);\r\n\tconst layer = React.useContext(LayerContext);\r\n\tconst onMouseDrag = React.useCallback(\r\n\t\t(e: ResizeMouseEvent, onDragEnd: OnDragEnd | undefined) => (space ? store.startMouseDrag(space, e, onDragEnd) : null),\r\n\t\t[spaceId],\r\n\t);\r\n\tconst onTouchDrag = React.useCallback(\r\n\t\t(e: ResizeTouchEvent, onDragEnd: OnDragEnd | undefined) => (space ? store.startTouchDrag(space, e, onDragEnd) : null),\r\n\t\t[spaceId],\r\n\t);\r\n\tconst onForceUpdate = React.useCallback(() => (space ? store.updateStyles(space) : null), [spaceId]);\r\n\r\n\tconst defaults = { width: 0, height: 0, x: 0, y: 0 };\r\n\tconst size = {\r\n\t\t...defaults,\r\n\t\t...domRect,\r\n\t};\r\n\r\n\treturn {\r\n\t\tsize: size,\r\n\t\tlayer: layer || 0,\r\n\t\tstartMouseDrag: onMouseDrag,\r\n\t\tstartTouchDrag: onTouchDrag,\r\n\t\tforceUpdate: onForceUpdate,\r\n\t} as ISpaceContext;\r\n}\r\n\r\nexport let SSR_SUPPORT_ENABLED = false;\r\nexport function enabledSsrSupport() {\r\n\tSSR_SUPPORT_ENABLED = true;\r\n}\r\n","import * as React from \"react\";\r\n\r\ninterface IProps {\r\n\tchildren?: React.ReactNode;\r\n}\r\n\r\nexport const Centered: React.FC<IProps> = (props) => <div className={`spaces-centered`}>{props.children}</div>;\r\n","import * as React from \"react\";\r\n\r\ninterface IProps {\r\n\tchildren?: React.ReactNode;\r\n}\r\n\r\nexport const CenteredVertically: React.FC<IProps> = (props) => <div className={`spaces-centered-vertically`}>{props.children}</div>;\r\n","import { CenterType, ResizeHandlePlacement, AnchorType, Type } from \"../core-types\";\r\nimport {\r\n\tuseSpace,\r\n\tParentContext,\r\n\tLayerContext,\r\n\tDOMRectContext,\r\n\tIReactSpaceInnerProps,\r\n\tuseEffectOnce,\r\n\tSSR_SUPPORT_ENABLED,\r\n\tuseUniqueId,\r\n} from \"../core-react\";\r\nimport * as React from \"react\";\r\nimport { Centered } from \"./Centered\";\r\nimport { CenteredVertically } from \"./CenteredVertically\";\r\nimport { isServer, updateStyleDefinition } from \"../core-utils\";\r\n\r\nfunction applyCentering(children: React.ReactNode, centerType: CenterType | undefined) {\r\n\tswitch (centerType) {\r\n\t\tcase CenterType.Vertical:\r\n\t\t\treturn <CenteredVertically>{children}</CenteredVertically>;\r\n\t\tcase CenterType.HorizontalVertical:\r\n\t\t\treturn <Centered>{children}</Centered>;\r\n\t}\r\n\treturn children;\r\n}\r\n\r\nexport class Space extends React.Component<IReactSpaceInnerProps> {\r\n\tpublic render() {\r\n\t\treturn <SpaceInner {...this.props} wrapperInstance={this} />;\r\n\t}\r\n}\r\n\r\nconst SpaceInner: React.FC<IReactSpaceInnerProps & { wrapperInstance: Space }> = (props) => {\r\n\tlet idToUse = props.id ?? props.wrapperInstance[\"_react_spaces_uniqueid\"];\r\n\tconst [initialRender, setInitialRender] = React.useState(SSR_SUPPORT_ENABLED ? true : false);\r\n\r\n\tconst uniqueId = useUniqueId();\r\n\r\n\tif (!idToUse) {\r\n\t\tprops.wrapperInstance[\"_react_spaces_uniqueid\"] = uniqueId;\r\n\t\tidToUse = props.wrapperInstance[\"_react_spaces_uniqueid\"];\r\n\t}\r\n\r\n\tconst {\r\n\t\tstyle,\r\n\t\tclassName,\r\n\t\tonClick,\r\n\t\tonDoubleClick,\r\n\t\tonMouseDown,\r\n\t\tonMouseEnter,\r\n\t\tonMouseLeave,\r\n\t\tonMouseMove,\r\n\t\tonTouchStart,\r\n\t\tonTouchMove,\r\n\t\tonTouchEnd,\r\n\t\tchildren,\r\n\t\thandleRender,\r\n\t} = props;\r\n\r\n\tconst events = {\r\n\t\tonClick: onClick,\r\n\t\tonDoubleClick: onDoubleClick,\r\n\t\tonMouseDown: onMouseDown,\r\n\t\tonMouseEnter: onMouseEnter,\r\n\t\tonMouseLeave: onMouseLeave,\r\n\t\tonMouseMove: onMouseMove,\r\n\t\tonTouchStart: onTouchStart,\r\n\t\tonTouchMove: onTouchMove,\r\n\t\tonTouchEnd: onTouchEnd,\r\n\t};\r\n\r\n\tconst { space, domRect, elementRef, resizeHandles } = useSpace({\r\n\t\t...props,\r\n\t\t...{ id: idToUse },\r\n\t});\r\n\r\n\tif (SSR_SUPPORT_ENABLED && !isServer()) {\r\n\t\tconst preRenderedStyle = document.getElementById(`style_${idToUse}_ssr`);\r\n\t\tif (preRenderedStyle) {\r\n\t\t\tspace.ssrStyle = preRenderedStyle.innerHTML;\r\n\t\t}\r\n\t\tupdateStyleDefinition(space);\r\n\t}\r\n\r\n\tuseEffectOnce(() => {\r\n\t\tspace.element = elementRef.current!;\r\n\r\n\t\tif (SSR_SUPPORT_ENABLED) {\r\n\t\t\tif (initialRender) {\r\n\t\t\t\tsetInitialRender(false);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst userClasses = className ? className.split(\" \").map((c) => c.trim()) : [];\r\n\r\n\tconst outerClasses = [\r\n\t\t...[\"spaces-space\", space.children.find((s) => s.resizing) ? \"spaces-resizing\" : undefined],\r\n\t\t...[space.type === Type.Fixed ? \"spaces-fixedsize-layout\" : undefined],\r\n\t\t...[space.type === Type.ViewPort ? \"spaces-fullpage-layout\" : undefined],\r\n\t\t...userClasses.map((c) => `${c}-container`),\r\n\t].filter((c) => c);\r\n\r\n\tconst innerClasses = [...[\"spaces-space-inner\"], ...userClasses];\r\n\r\n\tlet innerStyle = style;\r\n\tif (space.handlePlacement === ResizeHandlePlacement.Inside) {\r\n\t\tinnerStyle = {\r\n\t\t\t...style,\r\n\t\t\t...{\r\n\t\t\t\tleft: space.anchor === AnchorType.Right ? space.handleSize : undefined,\r\n\t\t\t\tright: space.anchor === AnchorType.Left ? space.handleSize : undefined,\r\n\t\t\t\ttop: space.anchor === AnchorType.Bottom ? space.handleSize : undefined,\r\n\t\t\t\tbottom: space.anchor === AnchorType.Top ? space.handleSize : undefined,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tconst centeredContent = applyCentering(children, props.centerContent);\r\n\r\n\tconst outerProps = {\r\n\t\t...{\r\n\t\t\tid: space.id,\r\n\t\t\tref: elementRef,\r\n\t\t\tclassName: outerClasses.join(\" \"),\r\n\t\t},\r\n\t\t...events,\r\n\t} as any;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{resizeHandles.mouseHandles.map((handleProps) => handleRender?.(handleProps) || <div {...handleProps} />)}\r\n\t\t\t{SSR_SUPPORT_ENABLED && space.ssrStyle && initialRender && <style id={`style_${space.id}_ssr`}>{space.ssrStyle}</style>}\r\n\t\t\t{React.createElement(\r\n\t\t\t\tprops.as || \"div\",\r\n\t\t\t\touterProps,\r\n\t\t\t\t<div className={innerClasses.join(\" \")} style={innerStyle}>\r\n\t\t\t\t\t<ParentContext.Provider value={space.id}>\r\n\t\t\t\t\t\t<LayerContext.Provider value={undefined}>\r\n\t\t\t\t\t\t\t<DOMRectContext.Provider value={domRect}>{centeredContent}</DOMRectContext.Provider>\r\n\t\t\t\t\t\t</LayerContext.Provider>\r\n\t\t\t\t\t</ParentContext.Provider>\r\n\t\t\t\t</div>,\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n","import { SizeUnit, Type, AnchorType, ResizeHandlePlacement } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { commonProps, IReactSpaceCommonProps, IResizeHandleProps } from \"../core-react\";\r\n\r\nexport interface IResizableProps extends IReactSpaceCommonProps {\r\n\tsize: SizeUnit;\r\n\torder?: number;\r\n\thandleSize?: number;\r\n\ttouchHandleSize?: number;\r\n\thandlePlacement?: ResizeHandlePlacement;\r\n\thandleRender?: (handleProps: IResizeHandleProps) => React.ReactNode;\r\n\tminimumSize?: number;\r\n\tmaximumSize?: number;\r\n\tonResizeStart?: () => void | boolean;\r\n\tonResizeEnd?: (newSize: SizeUnit) => void;\r\n}\r\n\r\nexport const resizableProps = {\r\n\t...commonProps,\r\n\t...{\r\n\t\tsize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\t\torder: PropTypes.number,\r\n\t\thandleSize: PropTypes.number,\r\n\t\ttouchHandleSize: PropTypes.number,\r\n\t\thandlePlacement: PropTypes.oneOf([ResizeHandlePlacement.Inside, ResizeHandlePlacement.OverlayBoundary, ResizeHandlePlacement.OverlayInside]),\r\n\t\thandleRender: PropTypes.func,\r\n\t\tminimumSize: PropTypes.number,\r\n\t\tmaximumSize: PropTypes.number,\r\n\t\tonResizeStart: PropTypes.func,\r\n\t\tonResizeEnd: PropTypes.func,\r\n\t},\r\n};\r\n\r\nexport interface IAnchorProps extends IResizableProps {\r\n\tresizable?: boolean;\r\n}\r\n\r\nexport const anchoredProps = {\r\n\t...resizableProps,\r\n\t...{\r\n\t\tresizable: PropTypes.bool,\r\n\t},\r\n};\r\n\r\nexport const LeftResizable: React.FC<IResizableProps> = ({ children, size, ...props }) => (\r\n\t<Space {...props} type={Type.Anchored} anchor={AnchorType.Left} position={{ left: 0, top: 0, bottom: 0, rightResizable: true, width: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nLeftResizable.propTypes = resizableProps;\r\n\r\nexport const Left: React.FC<IAnchorProps> = ({ size, children, resizable, ...commonProps }) => (\r\n\t<Space\r\n\t\t{...commonProps}\r\n\t\ttype={Type.Anchored}\r\n\t\tanchor={AnchorType.Left}\r\n\t\tposition={{ left: 0, top: 0, bottom: 0, rightResizable: resizable, width: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nLeft.propTypes = anchoredProps;\r\n\r\nexport const TopResizable: React.FC<IResizableProps> = ({ children, size, ...props }) => (\r\n\t<Space {...props} type={Type.Anchored} anchor={AnchorType.Top} position={{ left: 0, top: 0, right: 0, bottomResizable: true, height: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nTopResizable.propTypes = resizableProps;\r\n\r\nexport const Top: React.FC<IAnchorProps> = ({ size, children, resizable, ...commonProps }) => (\r\n\t<Space\r\n\t\t{...commonProps}\r\n\t\ttype={Type.Anchored}\r\n\t\tanchor={AnchorType.Top}\r\n\t\tposition={{ left: 0, top: 0, right: 0, bottomResizable: resizable, height: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nTop.propTypes = anchoredProps;\r\n\r\nexport const RightResizable: React.FC<IResizableProps> = ({ children, size, ...props }) => (\r\n\t<Space {...props} type={Type.Anchored} anchor={AnchorType.Right} position={{ bottom: 0, top: 0, right: 0, leftResizable: true, width: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nRightResizable.propTypes = resizableProps;\r\n\r\nexport const Right: React.FC<IAnchorProps> = ({ size, children, resizable, ...commonProps }) => (\r\n\t<Space\r\n\t\t{...commonProps}\r\n\t\ttype={Type.Anchored}\r\n\t\tanchor={AnchorType.Right}\r\n\t\tposition={{ bottom: 0, top: 0, right: 0, leftResizable: resizable, width: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nRight.propTypes = anchoredProps;\r\n\r\nexport const BottomResizable: React.FC<IResizableProps> = ({ children, size, ...props }) => (\r\n\t<Space {...props} type={Type.Anchored} anchor={AnchorType.Bottom} position={{ bottom: 0, left: 0, right: 0, topResizable: true, height: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nBottomResizable.propTypes = resizableProps;\r\n\r\nexport const Bottom: React.FC<IAnchorProps> = ({ size, children, resizable, ...commonProps }) => (\r\n\t<Space\r\n\t\t{...commonProps}\r\n\t\ttype={Type.Anchored}\r\n\t\tanchor={AnchorType.Bottom}\r\n\t\tposition={{ bottom: 0, left: 0, right: 0, topResizable: resizable, height: size }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nBottom.propTypes = anchoredProps;\r\n","import { Type, SizeUnit, IPositionalProps, AnchorType, ResizeType } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { IReactSpaceCommonProps } from \"../core-react\";\r\nimport { anchoredProps, IAnchorProps } from \"./Anchored\";\r\nimport { omit } from \"../core-utils\";\r\n\r\ntype ICustomProps = Omit<IReactSpaceCommonProps & IAnchorProps, \"size\"> & {\r\n\ttype?: Type;\r\n\r\n\t// Anchored\r\n\tanchor?: AnchorType;\r\n\tanchorSize?: SizeUnit;\r\n\r\n\t// Positioned\r\n\tleft?: SizeUnit | undefined;\r\n\ttop?: SizeUnit | undefined;\r\n\tright?: SizeUnit | undefined;\r\n\tbottom?: SizeUnit | undefined;\r\n\twidth?: SizeUnit | undefined;\r\n\theight?: SizeUnit | undefined;\r\n\tresizeTypes?: ResizeType[];\r\n};\r\n\r\nconst customProps = omit(\r\n\t{\r\n\t\t...anchoredProps,\r\n\t\t...{\r\n\t\t\ttype: PropTypes.oneOf([Type.Positioned, Type.Fill, Type.Anchored]),\r\n\r\n\t\t\tanchor: PropTypes.oneOf([AnchorType.Left, AnchorType.Top, AnchorType.Right, AnchorType.Bottom]),\r\n\t\t\tanchorSize: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\r\n\t\t\tleft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\ttop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\tright: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\tbottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\twidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\theight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\t\tresizeTypes: PropTypes.array,\r\n\t\t},\r\n\t},\r\n\t\"size\",\r\n);\r\n\r\nexport const Custom: React.FC<ICustomProps> = ({\r\n\tchildren,\r\n\ttype,\r\n\tleft,\r\n\ttop,\r\n\tright,\r\n\tbottom,\r\n\twidth,\r\n\theight,\r\n\tanchorSize,\r\n\tanchor,\r\n\tresizable,\r\n\tresizeTypes,\r\n\t...props\r\n}) => {\r\n\tlet position: IPositionalProps;\r\n\ttype = type || Type.Fill;\r\n\r\n\tif (type === Type.Positioned) {\r\n\t\tposition = {\r\n\t\t\tleft: left,\r\n\t\t\ttop: top,\r\n\t\t\tright: right,\r\n\t\t\tbottom: bottom,\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tleftResizable: resizeTypes && (resizeTypes.includes(ResizeType.Left) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\ttopResizable: resizeTypes && (resizeTypes.includes(ResizeType.Top) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\trightResizable: resizeTypes && (resizeTypes.includes(ResizeType.Right) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\tbottomResizable: resizeTypes && (resizeTypes.includes(ResizeType.Bottom) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\ttopLeftResizable: resizeTypes && (resizeTypes.includes(ResizeType.TopLeft) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\ttopRightResizable: resizeTypes && (resizeTypes.includes(ResizeType.TopRight) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\tbottomLeftResizable: resizeTypes && (resizeTypes.includes(ResizeType.BottomLeft) || resizeTypes.includes(ResizeType.All)),\r\n\t\t\tbottomRightResizable: resizeTypes && (resizeTypes.includes(ResizeType.BottomRight) || resizeTypes.includes(ResizeType.All)),\r\n\t\t};\r\n\t} else {\r\n\t\tif (anchor === AnchorType.Left) {\r\n\t\t\tposition = { left: 0, top: 0, bottom: 0, width: anchorSize, rightResizable: resizable };\r\n\t\t\ttype = Type.Anchored;\r\n\t\t} else if (anchor === AnchorType.Right) {\r\n\t\t\tposition = { right: 0, top: 0, bottom: 0, width: anchorSize, leftResizable: resizable };\r\n\t\t\ttype = Type.Anchored;\r\n\t\t} else if (anchor === AnchorType.Top) {\r\n\t\t\tposition = { left: 0, top: 0, right: 0, height: anchorSize, bottomResizable: resizable };\r\n\t\t\ttype = Type.Anchored;\r\n\t\t} else if (anchor === AnchorType.Bottom) {\r\n\t\t\tposition = { left: 0, bottom: 0, right: 0, height: anchorSize, topResizable: resizable };\r\n\t\t\ttype = Type.Anchored;\r\n\t\t} else {\r\n\t\t\tposition = {\r\n\t\t\t\tleft: 0,\r\n\t\t\t\ttop: 0,\r\n\t\t\t\tbottom: 0,\r\n\t\t\t\tright: 0,\r\n\t\t\t};\r\n\t\t\ttype = Type.Fill;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Space {...props} type={type} anchor={anchor} position={position}>\r\n\t\t\t{children}\r\n\t\t</Space>\r\n\t);\r\n};\r\n\r\nCustom.propTypes = customProps;\r\n","import { Type } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport { commonProps, IReactSpaceCommonProps } from \"../core-react\";\r\n\r\nexport const Fill: React.FC<IReactSpaceCommonProps> = (props) => (\r\n\t<Space {...props} type={Type.Fill} position={{ left: 0, top: 0, right: 0, bottom: 0 }}>\r\n\t\t{props.children}\r\n\t</Space>\r\n);\r\n\r\nFill.propTypes = commonProps;\r\n","import { SizeUnit, Type } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { commonProps, IReactSpaceCommonProps } from \"../core-react\";\r\n\r\ninterface IFixedProps extends IReactSpaceCommonProps {\r\n\twidth?: SizeUnit;\r\n\theight: SizeUnit;\r\n}\r\n\r\nexport const Fixed: React.FC<IFixedProps> = ({ width, height, children, ...commonProps }) => (\r\n\t<Space {...commonProps} type={Type.Fixed} position={{ width: width, height: height }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nFixed.propTypes = {\r\n\t...commonProps,\r\n\t...{\r\n\t\twidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\theight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n\t},\r\n};\r\n","import * as React from \"react\";\r\nimport { LayerContext } from \"../core-react\";\r\nimport * as PropTypes from \"prop-types\";\r\n\r\ninterface IProps {\r\n\tzIndex: number;\r\n\tchildren?: React.ReactNode;\r\n}\r\n\r\nexport const Layer: React.FC<IProps> = (props) => <LayerContext.Provider value={props.zIndex}>{props.children}</LayerContext.Provider>;\r\n\r\nLayer.propTypes = {\r\n\tzIndex: PropTypes.number.isRequired,\r\n};\r\n","import { Type, SizeUnit, ResizeType } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { commonProps, IReactSpaceCommonProps } from \"../core-react\";\r\n\r\ninterface IPositionedProps extends IReactSpaceCommonProps {\r\n\tleft?: SizeUnit;\r\n\ttop?: SizeUnit;\r\n\tright?: SizeUnit;\r\n\tbottom?: SizeUnit;\r\n\twidth?: SizeUnit;\r\n\theight?: SizeUnit;\r\n\tresizable?: ResizeType[];\r\n\tonResizeStart?: () => void | boolean;\r\n\tonResizeEnd?: (newSize: SizeUnit) => void;\r\n}\r\n\r\nexport const Positioned: React.FC<IPositionedProps> = ({ left, top, right, bottom, width, height, resizable, ...props }) => {\r\n\tconst resizeTypes = resizable || [];\r\n\r\n\treturn (\r\n\t\t<Space\r\n\t\t\t{...props}\r\n\t\t\ttype={Type.Positioned}\r\n\t\t\tposition={{\r\n\t\t\t\tleft: left,\r\n\t\t\t\ttop: top,\r\n\t\t\t\tright: right,\r\n\t\t\t\tbottom: bottom,\r\n\t\t\t\tleftResizable: resizeTypes.includes(ResizeType.Left) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\ttopResizable: resizeTypes.includes(ResizeType.Top) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\trightResizable: resizeTypes.includes(ResizeType.Right) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\tbottomResizable: resizeTypes.includes(ResizeType.Bottom) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\ttopLeftResizable: resizeTypes.includes(ResizeType.TopLeft) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\ttopRightResizable: resizeTypes.includes(ResizeType.TopRight) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\tbottomLeftResizable: resizeTypes.includes(ResizeType.BottomLeft) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\tbottomRightResizable: resizeTypes.includes(ResizeType.BottomRight) || resizeTypes.includes(ResizeType.All),\r\n\t\t\t\twidth: width,\r\n\t\t\t\theight: height,\r\n\t\t\t}}>\r\n\t\t\t{props.children}\r\n\t\t</Space>\r\n\t);\r\n};\r\n\r\nPositioned.propTypes = {\r\n\t...commonProps,\r\n\t...{\r\n\t\tleft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\ttop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\tright: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\tbottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\twidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\theight: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\tresizable: PropTypes.array,\r\n\t},\r\n};\r\n","import * as React from \"react\";\r\nimport { DOMRectContext } from \"../core-react\";\r\n\r\ninterface ISpaceInfoProps {\r\n\tchildren: (info: DOMRect) => JSX.Element;\r\n}\r\n\r\n/**\r\n * @deprecated use useCurrentSpace() hook instead\r\n */\r\nexport const Info: React.FC<ISpaceInfoProps> = (props) => {\r\n\tconst domRect = React.useContext(DOMRectContext);\r\n\r\n\tif (domRect) {\r\n\t\treturn props.children(domRect);\r\n\t}\r\n\r\n\treturn props.children({ left: 0, top: 0, right: 0, bottom: 0, width: 0, height: 0, x: 0, y: 0, toJSON: () => \"\" });\r\n};\r\n","import { Type, SizeUnit } from \"../core-types\";\r\nimport * as React from \"react\";\r\nimport { Space } from \"./Space\";\r\nimport * as PropTypes from \"prop-types\";\r\nimport { commonProps, IReactSpaceCommonProps } from \"../core-react\";\r\n\r\ninterface IViewPortProps extends IReactSpaceCommonProps {\r\n\tleft?: SizeUnit;\r\n\tright?: SizeUnit;\r\n\ttop?: SizeUnit;\r\n\tbottom?: SizeUnit;\r\n}\r\n\r\nexport const ViewPort: React.FC<IViewPortProps> = ({ left, top, right, bottom, children, ...commonProps }) => (\r\n\t<Space {...commonProps} type={Type.ViewPort} position={{ left: left || 0, top: top || 0, right: right || 0, bottom: bottom || 0 }}>\r\n\t\t{children}\r\n\t</Space>\r\n);\r\n\r\nViewPort.propTypes = {\r\n\t...commonProps,\r\n\t...{\r\n\t\tleft: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\ttop: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\tright: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t\tbottom: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\t},\r\n};\r\n","import * as React from \"react\";\nimport { enabledSsrSupport } from \"../core-react\";\nimport css from \"../styles.css\";\n\nexport const SSR: React.FC<{ children?: React.ReactNode }> = ({ children }) => {\n\tenabledSsrSupport();\n\treturn (\n\t\t<>\n\t\t\t<style dangerouslySetInnerHTML={{ __html: css }} />\n\t\t\t{children}\n\t\t</>\n\t);\n};\n","import * as React from \"react\";\r\nimport { IReactSpacesOptions, OptionsContext } from \"../core-react\";\r\n\r\ninterface IProps extends IReactSpacesOptions {\r\n\tchildren?: React.ReactNode;\r\n}\r\n\r\nexport const Options: React.FC<IProps> = ({ children, ...opts }) => {\r\n\treturn <OptionsContext.Provider value={opts}>{children}</OptionsContext.Provider>;\r\n};\r\n"],"names":["css"],"mappings":"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"}